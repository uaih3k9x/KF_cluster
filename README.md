# Knowledge Forum app.js edited

We edited the `app.js` by adding cluster module to it and let it can use all of the CPUs in the instance.

We tested it by `pressure.js` and then took a capture of the task list.
  
   
| CPU | us | sy | ni | id | wa | hi | si | st |
|-----|----|----|----|----|----|----|----|----|
| %Cpu0 | 4.2 | 3.5 | 0.0 | 88.1 | 0.0 | 0.0 | 4.2 | 0.0 |
| %Cpu1 | 42.7 | 2.3 | 0.0 | 54.7 | 0.0 | 0.0 | 0.3 | 0.0 |
| %Cpu2 | 41.3 | 2.7 | 0.0 | 56.0 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu3 | 0.0 | 0.0 | 0.0 | 100.0 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu4 | 0.7 | 0.3 | 0.0 | 99.0 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu5 | 0.0 | 0.0 | 0.0 | 95.9 | 0.0 | 0.0 | 4.1 | 0.0 |
| %Cpu6 | 2.7 | 4.4 | 0.0 | 92.9 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu7 | 41.0 | 0.7 | 0.0 | 57.3 | 0.0 | 0.0 | 1.0 | 0.0 |
| %Cpu8 | 0.0 | 0.0 | 0.0 | 100.0 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu9 | 0.0 | 0.3 | 0.0 | 99.7 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu10 | 40.4 | 2.0 | 0.0 | 57.6 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu11 | 0.0 | 0.3 | 0.0 | 99.7 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu12 | 5.0 | 5.0 | 0.0 | 87.3 | 2.7 | 0.0 | 0.0 | 0.0 |
| %Cpu13 | 5.7 | 4.7 | 0.0 | 89.7 | 0.0 | 0.0 | 0.0 | 0.0 |
| %Cpu14 | 49.5 | 5.4 | 0.0 | 42.8 | 0.0 | 0.0 | 2.3 | 0.0 |
| %Cpu15 | 33.8 | 4.0 | 0.0 | 61.5 | 0.0 | 0.0 | 0.7 | 0.0 |

**Memory Information:**
| Type | Total | Free | Used | Buff/Cache | Avail |
|------|--------|-------|------|------------|--------|
| Memory | 7933.4 MiB | 3816.6 MiB | 1071.1 MiB | 3045.7 MiB | 6564.3 MiB |
| Swap | 4096.0 MiB | 4096.0 MiB | 0.0 MiB | - | - |

**Process Information:**
| PID | USER | PR | NI | VIRT | RES | SHR | S | %CPU | %MEM | TIME+ | COMMAND |
|-----|------|----|----|------|-----|-----|---|------|------|-------|----------|
| 1647 | root | 20 | 0 | 1780192 | 666472 | 31524 | D | 305.3 | 8.2 | 6:46.76 | kf6-linux |
| 46 | root | 20 | 0 | 0 | 0 | 0 | S | 2.7 | 0.0 | 0:09.61 | ksoftirqd/5 |
| 1645 | 1001 | 20 | 0 | 1190096 | 88804 | 37452 | S | 0.7 | 1.1 | 16:32.35 | mongod |


This is not the peak of the load, but seems it works :P

Ruijie Wan@SCNU 2024